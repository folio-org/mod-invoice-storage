{
  "tables": [
    {
      "tableName": "invoices",
      "fromModuleVersion": "mod-invoice-storage-4.0.0",
      "withMetadata": true,
      "customSnippetPath": "data-migration/invoices_table.sql"
    },
    {
      "tableName": "invoice_lines",
      "customSnippetPath": "data-migration/invoice_lines_table.sql",
      "fromModuleVersion": "mod-invoice-storage-3.0.0",
      "withMetadata": true,
      "foreignKeys": [
        {
          "fieldName": "invoiceId",
          "targetTable": "invoices",
          "tableAlias": "invoiceLines",
          "targetTableAlias": "invoices",
          "tOps": "ADD"
        }
      ]
    },
    {
      "tableName": "vouchers",
      "fromModuleVersion": "mod-invoice-storage-4.0.0",
      "withMetadata": true,
      "customSnippetPath": "data-migration/vouchers_table.sql",
      "uniqueIndex": [
        {
          "fieldName": "voucherNumber",
          "tOps": "DELETE"
        }
      ],
      "foreignKeys": [
        {
          "fieldName": "invoiceId",
          "targetTable": "invoices"
        }
      ]
    },
    {
      "tableName": "voucher_lines",
      "customSnippetPath": "data-migration/voucher_lines_table.sql",
      "fromModuleVersion": "mod-invoice-storage-3.0.0",
      "withMetadata": true,
      "foreignKeys": [
        {
          "fieldName": "voucherId",
          "targetTable": "vouchers",
          "tableAlias": "voucherLines",
          "targetTableAlias": "vouchers",
          "tOps": "ADD"
        }
      ]
    },
    {
      "tableName": "documents",
      "fromModuleVersion": "mod-invoice-storage-2.0.0",
      "withMetadata": true,
      "foreignKeys": [
        {
          "fieldName": "invoiceId",
          "targetTable": "invoices"
        }
      ],
      "customSnippetPath" : "document_table.sql"
    }
  ]
}
